<h1 style="text-align:center;">WordPress</h1>
<h3>Embed WordPress Functions Outside WordPress</h3>
<p>Create a Sub directory on the wordpress and add the code</p>
require( '../my_wordpress_install_root/wp-load.php' );
get_header();
echo 'new content outside WordPress';
get_footer();
<hr>
<h3>Programmatically login a user without a password:</h3>
$username = "admin";
$user = get_user_by('login', $username );
if ( !is_wp_error( $user ) &&   !is_user_logged_in())
{
wp_clear_auth_cookie();
wp_set_current_user ( $user->ID );
wp_set_auth_cookie  ( $user->ID );
}
<hr>
<h3>Declaring WooCommerce support in themes(custom themes)</h3>
function mytheme_add_woocommerce_support() {
add_theme_support( 'woocommerce' );
}
add_action( 'after_setup_theme', 'mytheme_add_woocommerce_support' );
<hr>
<h3>Passing Value from template file to header</h3>
STEP1:
// in template file
<br>
global $template_var;
$template_var = 'Test value'
get_header();
<br>
STEP2:
// in header.php
<br>
global $template_var;
echo $template_var; // 'Test value'
<hr>
<h3>Hooks</h3>
<p>There are two types of hooks: actions and filters.</p>
<ul>
   <li>Actions allow you to add extra functionality at a specific point in the processing of the page—for example, you might want to add extra widgets or menus, or add a promotional message to your page.</li>
   <li>Filters allow you to intercept and modify data as it is processed—for example, you might want to insert another CSS class in a WordPress HTML element, or modify some of your pages blocks.</li>
</ul>
<p><strong>In brief: actions do stuff; filters change stuff.</strong></p>
<p>*Actions:
   1. add_action
   2. do_action
   3. remove_action
</p>
<p>do_action : Registers an action hook while add_action : adds a callback function to the registered hook.</p>
<strong>do_action :</strong>
<p>do_action( ‘after_gill_arrives’ , $gill_has_keys = true , $gill_has_car = true );<br>
   This tells WordPress to create a hook called ‘after_gill_arrives’, run any actions that are attached to this hook, and pass the arguments $gill_has_keys and $gill_has_car to those actions (the 2 arguments we specified above).
</p>
<p><strong>*Filters:</strong>
   1. add_filter
   2. apply_filter
</p>
<p><strong>*Priority:</strong>
   add_action('init', 'run_me_early', 9); <br> 
   add_action('init', 'run_me_normal');    // default value of 10 is used since a priority wasn't specified <br>
   add_action('init', 'run_me_late', 11);<br>
<p>The first function to run will be run_me_early(), followed by run_me_normal(), and finally the last one to run will be run_me_late().</p>
<p>Reference: https://docs.presscustomizr.com/article/26-wordpress-actions-filters-and-hooks-a-guide-for-non-developers</p>
<hr>
<h3>Taxonomy</h3>
<p>Taxonomy is a way to group things together.</P>
<strong>SYNTAX: </strong><CODE> the_terms( $id, $taxonomy); </CODE> <br>
Eg: <CODE>the_terms( $post->ID, 'category' ); </CODE>
<p>This will display all the categories of the current post.</p>

<p>In WordPress, terms refers to the items in a taxonomy.</p>

<p>For example, a website has categories books, politics, and blogging in it. While category itself is a taxonomy the items inside it are called terms.</p>

<p><strong>Default Taxonomies: </strong>Category, Tag, ....</p>
<hr>
<h3>Pagination</h3>
*<code>echo paginate_links();</code><br>
Output: « Prev 1 … 3 4 5 6 7 … 9 Next »<br><br>
*<code>previous_posts_link();</code><br>
<code>next_posts_link();</code>
<hr>
<h3>Custom Query with Pagination</h3>
<pre>
<strong>$current_page = ( get_query_var('paged') ) ? get_query_var('paged') : 1; //get current page no from URL</strong>

$about_post = new WP_Query(array('category_name' => 'about', 
				 'post_per_page' => 3,
				 <strong>'paged' => $current_page //get post from current page</strong>	));</pre>
<br>//the above object will get all the post from the category "about" and displays 3 posts per page.<br>
<pre>
if($about_post -> have_posts()): //check if it has post
	while($about_post -> have_posts()): //loop 
		$about_post -> the_post(); //we need to call "the_post" method to get details of each post
		the_title(); // displays the title of each post
	endwhile;
	
	$max_pages = $about_post->max_num_pages; //total no of pages
	
	next_posts_link('Next Page', $max_pages); //ordinary pagination
	
	previous_posts_link(); //ordinary pagination
	
	echo paginate_links(array('total' => $max_pages)); //numbered pagination
	
endif;
</pre>
<p>NOTE: <br>next_posts_link() and paginate_links() will not work as it is on custom query.<br>previous_posts_link() will work on custom query.</p>
<hr>
<h3>How to hide subcategory products from main category in Woocommerce?</h3>
<p>Add the following lines of code at the end of your theme’s functions.php file.</p>
<pre>
function exclude_product_cat_children($wp_query) {
if ( isset ( $wp_query->query_vars['product_cat'] ) && $wp_query->is_main_query()) {
    $wp_query->set('tax_query', array( 
                                    array (
                                        'taxonomy' => 'product_cat',
                                        'field' => 'slug',
                                        'terms' => $wp_query->query_vars['product_cat'],
                                        'include_children' => false
                                    ) 
                                 )
    );
  }
}  
add_filter('pre_get_posts', 'exclude_product_cat_children');
</pre>
<hr>
<h2>Programmatically login a user without a password:</h2>
<pre>
$username = "admin";
$user = get_user_by('login', $username );


if ( !is_wp_error( $user ) &&   !is_user_logged_in())
{
    wp_clear_auth_cookie();
    wp_set_current_user ( $user->ID );
    wp_set_auth_cookie  ( $user->ID );

}
</pre>
<hr>
<pre>
$queried_object = get_queried_object();
 var_dump( $queried_object );
</pre>
</hr>